//------------------------------------------------------------------------------
//
// File Name:	Parser.c
// Author(s):	Gabe Gramblicka (gabriel.gramblicka)
// Project:		GL SLOP
//
// Copyright (c) 2024 Gabe Gramblicka
//
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// Include Files:
//------------------------------------------------------------------------------

#include "stdafx.h"
#include "Parser.h"
#include "Data.h"

#include <stdio.h>

//------------------------------------------------------------------------------
// Private Classes:
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// Public Variables:
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// Private Variables:
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// Private Function Declarations:
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// Public Functions:
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// Private Functions:
//------------------------------------------------------------------------------

const char* glSlopParse(const char* shaderText) {
  const char* includeString = "#include";
  size_t iSize = strlen(includeString) /* 8 */; // include length

  const char* includeFile = nullptr;
  const char* newFile = nullptr;

  size_t oSize = strlen(shaderText);
  for (int i = 0; i < oSize; ++i) {
    Data::OB() << shaderText[i];

    for (int j = 0; j < iSize; ++j) {
      if (shaderText[i] != includeString[j]) {
        j = 0; // reset
        break;
      }
      else {
        ++i;
      }
      if (j == iSize) {
        Data::OB() << "Found include" << std::endl;
      }
    }
  }

  return newFile;
}

